[
  {
    "id": "K001",
    "info": "Merge rate real do OpenClaw no dataset enriquecido é 24.1% (39% era artefato de amostra pequena).",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "reports/D01v3-enrichment-analysis.md",
    "context": "Amostra expandida (1521 PRs enriquecidas) corrigiu viés da amostra inicial de 500 PRs."
  },
  {
    "id": "K002",
    "info": "Comentário de steipete é o sinal observável mais forte: ~74.5% merge quando presente (17x odds vs baseline ~13.3%).",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "reports/D01v3-enrichment-analysis.md",
    "context": "Feature útil no modelo mature; não usar no early model porque aparece tarde no ciclo da PR."
  },
  {
    "id": "K003",
    "info": "Greptile review não prediz merge positivamente no histórico atual (WITH 14.0% vs WITHOUT 17.7%); achado observacional sujeito a confounding temporal.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "reports/D01v3-enrichment-analysis.md",
    "context": "Tratar has_greptile_review como controle/proxy de complexidade, com controle temporal (weeks_since_open)."
  },
  {
    "id": "K004",
    "info": "Há forte aceleração temporal no processo de merge (ex.: W05=6.7% vs W08=54.3%).",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "reports/D01v3-enrichment-analysis.md",
    "context": "weeks_since_open e/ou weekly_pr_volume são variáveis obrigatórias para reduzir confounding temporal."
  },
  {
    "id": "K005",
    "info": "Tamanho ótimo observado está em S-M-L por labels; por LoC real, L (~29.6%) é pico e XL cai forte.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "reports/D01v3-enrichment-analysis.md",
    "context": "Usar duas representações de tamanho (label e LoC) para robustez no logit."
  },
  {
    "id": "K006",
    "info": "Engajamento alto (4+ comentários) está associado a maior merge rate (~21-27% vs baseline ~14%).",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "reports/D01v3-enrichment-analysis.md",
    "context": "Criar feature high_engagement para modelo mature."
  },
  {
    "id": "K007",
    "info": "Stage 0 (historical ingest + enrichment) está completo para janela nov/2025→fev/2026: 3233 PRs históricas, 1521 enriquecidas (47% coverage).",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "data/all_historical_prs.json + data/enriched_full.jsonl + commit 34039d9",
    "context": "Pré-requisito para Stage 0.5 (model specification) e 0.7 (bootstrap)."
  },
  {
    "id": "K008",
    "info": "Estrutura inicial de código do repo foi scaffolded conforme PLAN-v4 (src/tests/benchmarks/examples).",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "commit 0743fe4",
    "context": "Base pronta para implementação dos módulos do pipeline; ainda sem lógica funcional."
  },
  {
    "id": "K009",
    "info": "Governança operacional do sprint: bootstrap deve rodar no modelo de produção; defaults de spawn por tipo são codex low (coding), sonnet medium (interpretação/escrita) e haiku medium (batch).",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "plans/clawkeeper/PLAN-v4.md + RULES.md",
    "context": "Evita mismatch de capabilities entre bootstrap e produção e padroniza custo/qualidade de delegação."
  },
  {
    "id": "K010",
    "info": "CLAUDE.md é symlink pra AGENTS.md. Doc de governança real é AGENTS.md (21KB).",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "GitHub API (type=symlink, target=AGENTS.md)",
    "context": "Vision alignment deve checar contra AGENTS.md, não CLAUDE.md separado."
  },
  {
    "id": "K011",
    "info": "Label maintainer = 90.7% merge rate (183 PRs). Strongest label signal. Labels trusted-contributor (96) e experienced-contributor (99) também existem.",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "all_historical_prs.json label analysis",
    "context": "Features repo-específicas pro modelo early. Extraíveis deterministicamente."
  },
  {
    "id": "K012",
    "info": "ci_green e is_fork_pr não estão no dataset atual. Precisam ser adicionados no Stage 1 (ingest).",
    "importance": "high",
    "status": "active",
    "date": "2026-02-17",
    "source": "model_spec.json viability check",
    "context": "ci_green via GitHub checks API; is_fork_pr via head.repo != base.repo."
  },
  {
    "id": "K013",
    "info": "Stage 0.5 (model specification) completo. 33 features especificadas (19 early + 14 mature). 3 artefatos: model_spec.json, docs/model-spec-notes.md, features/feature_map.json.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-17",
    "source": "Stage 0.5 execution",
    "context": "Próximo: Stage 0.7 (bootstrap sequencial) ou Stage 1 (ingest PRs abertas)."
  },
  {
    "id": "K014",
    "info": "Bootstrap v3 R1 accuracy (81%) já supera o melhor round do v2.1 inteiro (74.6% média). Salto atribuído a: dados enriquecidos (comments/reviews/files), Sonnet per-round patterns com 4 campos, anti-pattern field.",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/bootstrap_v3/round_1_scores.json vs data/bootstrap_v2/",
    "context": "v2.1 R1 era 70% acc / 0.464 F1. v3 R1: 81% / 0.708. Múltiplas variáveis mudaram — não é possível isolar contribuição individual."
  },
  {
    "id": "K015",
    "info": "FP caiu de 18 (R1) para 6 (R4) — patterns de Sonnet efetivamente ensinam Haiku a evitar falsos positivos. Principal driver: patterns sobre first-time contributors sem maintainer engagement.",
    "importance": "critical",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/bootstrap_v3/round_{1-4}_scores.json",
    "context": "FP era o problema dominante do v2.1. Redução de 18→6 em 4 rounds confirma que pattern injection funciona."
  },
  {
    "id": "K016",
    "info": "FN subiu de 1 (R1) para 6 (R4) — overcorrection. Haiku ficou conservador demais ao aplicar patterns anti-merge, passando a rejeitar PRs que deveriam ser merge.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/bootstrap_v3/round_{1-4}_scores.json",
    "context": "Tradeoff FP↓/FN↑ é esperado, mas 6 FN no R4 é overcorrection. Anti-pattern field deveria mitigar mas não foi suficiente. Candidato a correção no pós-treino CLT."
  },
  {
    "id": "K017",
    "info": "R3 foi o pico de performance: 91% accuracy, F1 0.830, 7 FP / 2 FN. R4 regressou para 88% / 0.750. Patterns acumulados podem ter ultrapassado o ponto ótimo.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/bootstrap_v3/round_{3,4}_scores.json",
    "context": "Possível que excesso de patterns cause confusão no Haiku. Pós-treino CLT com confidence thresholds (apply/consider/tiebreaker) pode resolver."
  },
  {
    "id": "K018",
    "info": "Pattern lifecycle funcionando: de 24 patterns gerados em 4 rounds, 4 foram retired e 2 revised. Pruning automático por error-attribution está operacional.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/bootstrap_v3/patterns_state.json",
    "context": "v2.1 não tinha lifecycle — patterns só acumulavam, contribuindo para regressão no R10. v3 resolve com pruning após 2+ rounds de erro sem revisão eficaz."
  },
  {
    "id": "K019",
    "info": "Calibração estável: apenas 1 bin overconfident em R1, R3, R4 (2 em R2). Melhor que v2.1 onde overconfidence era sistêmica.",
    "importance": "medium",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/bootstrap_v3/round_{1-4}_scores.json calibration",
    "context": "Gate G-CAL (≤1 overconfident bin em R10) está passando nos rounds intermediários."
  },
  {
    "id": "K020",
    "info": "Processo bootstrap morreu no R5 porque nohup+disown não isolou suficientemente do shell pai. setsid necessário para session-independent lifecycle.",
    "importance": "medium",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "execution_log.txt + /tmp/bootstrap_v3.log",
    "context": "P089 aplicado. Shell do exec session morreu e levou o processo filho. Re-run R5-R10 com setsid."
  },
  {
    "id": "K021",
    "info": "Greptile Confidence Score (X/5) existe no body das PRs desde ~30 jan 2026. Formato: HTML comment com summary + score. 1746 PRs amostradas (14-18 fev). Score fraco como preditor: 5/5 tem 16.5% merge vs 0/5 0%. Distribuição enviesada: 46% recebem 5/5.",
    "importance": "medium",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "gh API query + PR #9715 body",
    "context": "Greptile avalia qualidade de código (ortogonal ao Clawkeeper que avalia probabilidade de merge). Útil como feature complementar, não substituto. Body da PR não está no enrichment atual."
  },
  {
    "id": "K022",
    "info": "Enrichment atual não captura body da PR. Campos: title, labels, user, dates, comments, reviews, files. Body contém: Greptile summary+score, fixes/closes #N, descrição do autor. Gap significativo.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "data/all_historical_prs_enriched.json schema inspection",
    "context": "Adicionar body ao enrichment é trivial (campo já vem da API). Permite extrair greptile_confidence, has_linked_issue, e texto descritivo."
  },
  {
    "id": "K023",
    "info": "closingIssuesReferences (issue linkada) não é preditor forte de merge no OpenClaw: 28.0% com issue vs 31.2% sem issue (N=2000). Hipótese de alto valor preditivo rejeitada para o binário simples.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "gh GraphQL API, 2000 PRs paginadas",
    "context": "Possível que issue criada pelo maintainer (vs pelo autor) tenha valor preditivo, mas requer query adicional. O binário has_linked_issue sozinho não discrimina."
  },
  {
    "id": "K024",
    "info": "Três dimensões ortogonais de avaliação de PR identificadas: (1) qualidade de código (Greptile), (2) probabilidade de merge (Clawkeeper), (3) resolve o problema? (ninguém faz). Dimensão 3 requer análise semântica issue+diff.",
    "importance": "high",
    "status": "hypothesis",
    "date": "2026-02-18",
    "source": "Discussão Bruno-Tiuito 2026-02-18",
    "context": "Dimensão 3 seria diferencial real do Clawkeeper. Hard mode: precisa LLM lendo issue+diff. Candidato a Stage 2+."
  },
  {
    "id": "K025",
    "info": "Issue linkada segmentada por autor: self-filed (autor=PR=issue) 38.1% merge, community issue (outro abriu) 26.6%, no issue 31.2%. N=2000. Self-filed tem sinal positivo modesto. Community issue pior que sem issue.",
    "importance": "medium",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "gh GraphQL closingIssuesReferences + author comparison",
    "context": "Maintainers não abrem issues (0 hits). Feature candidata: issue_author_is_pr_author (bool). Ownership do problema > issue linkada genérica."
  },
  {
    "id": "K026",
    "info": "Features de issue devem ser separadas para interação no logit: has_linked_issue (bool), issue_is_self_filed (bool), issue_is_maintainer_filed (bool). Colapsar em categórico perde interações. Termos multiplicativos no logit (e.g. has_linked_issue × author_prior_merge_rate) separam contribuidor legítimo de bot farming.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "Discussão Bruno-Tiuito 2026-02-18",
    "context": "Self-filed 38% vs community 27% vs no-issue 31%. Interação com merge rate do autor é chave: bots têm alto volume + baixo merge rate + linkam issues de outros."
  },
  {
    "id": "K027",
    "info": "Bot farming pattern confirmado nos dados: autores de community-issue com alto volume e baixo merge rate (shtse8: 93 PRs/5%, BinHPdev: 56/5%, Limitless2023: 32/3%). 62% dos autores de community-issue são one-shot. Padrão: encontrar issue aberta → gerar PR automatizada → linkar issue pra parecer legítimo.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "gh GraphQL closingIssuesReferences + author analysis, N=2000",
    "context": "Explica por que community-issue tem merge rate menor que sem issue (26.6% vs 31.2%). Não é que linkar issue é ruim — é que a população está contaminada por farming. Feature author_prior_merge_rate já captura parcialmente, mas has_linked_issue × low_merge_rate é sinal de bot mais específico."
  },
  {
    "id": "K028",
    "info": "Bot detection features validados: (1) max_prs_same_day (bots 29-80, humanos 2-11) e (2) median_interval_hours (bots <0.2h, humanos >2h) separam quase perfeitamente. Diversidade de área é fraca. Título formulaico não discrimina (bots usam títulos AI-generated descritivos). CV de additions inconclusivo (dados zerados).",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "Análise per-author 3233 PRs enriched",
    "context": "Features imediatas para Stage 1 logit: max_prs_same_day, median_interval_hours, prs_per_day. Velocidade > conteúdo para detecção de bot neste dataset."
  },
  {
    "id": "K029",
    "info": "unique_repos_contributed discrimina bot tipo 2/3 (conta antiga + agent): shtse8=39 repos, Ayush10=13. Humanos legítimos: 1-5 repos. Bots atacam repos populares diversos (cal.com, deno, excalidraw, tensorflow). Feature via GitHub Events API.",
    "importance": "high",
    "status": "confirmed",
    "date": "2026-02-18",
    "source": "gh API users/{user}/events, 6 autores amostrados",
    "context": "Completa o perfil bot: velocity (max_same_day, median_interval) + spread (unique_repos) + history (merge_rate, account_age). Os 3 juntos cobrem todos os tipos de farming."
  },
  {
    "id": "K030",
    "date": "2026-02-18",
    "category": "strategic",
    "title": "Clawkeeper como módulo de QA epistêmico",
    "content": "Compliance sweeper = enforcement horizontal (agente segue padrão). Falta enforcement vertical (padrão merece existir). Clawkeeper module fecha gap: lê promoted patterns + signals, classifica qualidade (sustentado/inflado/ruído/contraditório), alimenta DREAM_CYCLE com prune/revise/promote. Bootstrap v3 é prova empírica (40 patterns → 8 variáveis, overcorrection sem auditoria). Produto: QA do learning como módulo embutido. API genérica. Tiuito = primeiro cliente.",
    "source": "auditor-externo sessão 2026-02-18"
  },
  {
    "id": "K031",
    "date": "2026-02-18",
    "category": "research",
    "title": "PR flooding e ataques supply chain documentados",
    "content": "Ataques por PR documentados em 4 categorias: (1) Complexity overwhelming — PRs grandes onde código malicioso se perde no ruído (Kusari top 5 PR risks). (2) Trust building → poisoning — contribuições legítimas por meses/anos, depois injeção maliciosa (xz-utils 2024, caso canônico). (3) CI/pipeline exploitation — PR sem merge dispara GitHub Actions que roubam secrets (Ultralytics, tj-actions/changed-files 2025). (4) Dependency confusion via automated PRs — comprometer upstream, bot cria PR de update, maintainer aprova por rotina. Bots no dataset OpenClaw (94 PRs, 0% merge) provavelmente são product promotion/coding agents, não ataques. Mas feature submission_mechanism capturaria ambos. Trust building detectável por velocity+spread (conta nova com alta atividade em múltiplos repos).",
    "source": "web search + análise Bruno 2026-02-18"
  },
  {
    "id": "K032",
    "date": "2026-02-18",
    "category": "strategic",
    "title": "Clawkeeper como camada de segurança — burner accounts e supply chain risk",
    "content": "OpenClaw roda com acesso total ao sistema do usuário (shell, arquivos, mensagens). PR malicioso que passa review → merge → update → execução na máquina. Vetor: burner accounts fludeando PRs (trust building ou complexity overwhelming). Features já capturadas no enrichment v2 (velocity, spread, account age) funcionam como detector de burner accounts. Reframe: Clawkeeper não é só governance de qualidade — é camada de segurança. Detectar PRs anômalos antes do merge é security. Casos documentados: xz-utils (2024, trust building 2 anos), tj-actions (2025, CI exploitation), University of Minnesota (2021, patches bugados deliberados no Linux kernel).",
    "source": "análise Bruno+Tiuito 2026-02-18"
  },
  {
    "id": "K033",
    "title": "Signal Inversion Bug — Sonnet consolidator reinforces error mechanisms instead of correcting them",
    "description": "P-1-1, P-1-2, P-1-9, P-1-11 prescribe the exact behavior that caused the FP errors they were derived from. Sonnet reads Haiku reasoning 'I over-trusted Greptile 5/5' and extracts 'Greptile 5/5 is a strong merge signal'. The consolidator confuses 'mechanism of the error' with 'rule to follow'. 4/13 patterns correct (31%), rest are noise or actively inverted signals. R2 FP increased 20→22, confirming patterns amplify rather than correct errors.",
    "category": "architecture",
    "severity": "critical",
    "source": "Bruno analysis + R1/R2 data validation",
    "date": "2026-02-18",
    "tags": [
      "bootstrap",
      "sonnet",
      "pattern-extraction",
      "signal-inversion",
      "v4"
    ],
    "evidence": {
      "inverted_patterns": [
        "P-1-1 (Greptile 5/5)",
        "P-1-2 (duplicate=merge intent)",
        "P-1-9 (config PRs)",
        "P-1-11 (experienced contributors)"
      ],
      "correct_patterns": [
        "P-1-4 (ban=no merge)",
        "P-1-5 (superseded=closed)",
        "P-1-8 (squash-merge receipt)",
        "P-1-6 (security+new contributor)"
      ],
      "r1_fp": 20,
      "r2_fp": 22,
      "correct_ratio": "4/13 (31%)"
    }
  },
  {
    "id": "K034",
    "title": "Consolidation by reflection has systematic polarity problem",
    "description": "Error reflection text is structurally ambiguous: 'I predicted merge because of X' describes both (a) the wrong action and (b) the feature X. Without explicit polarity marking, a consolidator naturally extracts 'X → merge' rather than 'X → NOT merge'. This is not a prompt tuning issue — it's a structural information loss problem. The error description must be reformatted to make polarity unambiguous before consolidation.",
    "category": "architecture",
    "severity": "high",
    "source": "Bruno diagnosis",
    "date": "2026-02-18",
    "tags": [
      "bootstrap",
      "pattern-extraction",
      "epistemic",
      "architecture"
    ],
    "implications": [
      "Feedback mediated by patterns is less robust than direct error feedback (confirmed by v3 R5 prediction)",
      "Clawkeeper-as-module would catch this: 'pattern prescribes behavior that caused its source errors' is mechanically verifiable",
      "Fix requires explicit polarity in error format + self-check in consolidation prompt"
    ]
  },
  {
    "id": "K035",
    "title": "Correct vs inverted pattern taxonomy — deterministic signals survive, qualitative judgment inverts",
    "description": "The 4 correct patterns (P-1-4 ban, P-1-5 superseded, P-1-6 security block, P-1-8 squash receipt) are all deterministic: mechanically verifiable from PR metadata. The inverted patterns (P-1-1 Greptile, P-1-2 duplicate intent, P-1-9 config, P-1-11 experienced author) are all qualitative: requiring judgment about what a signal 'means'. Deterministic patterns survive consolidation because they have clear polarity. Qualitative patterns invert because the consolidator must infer polarity from ambiguous reasoning text.",
    "category": "architecture",
    "severity": "high",
    "source": "pattern analysis from R1 data",
    "date": "2026-02-18",
    "tags": [
      "bootstrap",
      "pattern-extraction",
      "deterministic-vs-qualitative"
    ],
    "design_implication": "Separate deterministic and qualitative pattern extraction paths. Deterministic: mechanical extraction, no consolidation needed. Qualitative: require explicit polarity marking + self-check."
  },
  {
    "id": "K036",
    "title": "v4 R1-R2 baseline metrics and bug inventory",
    "description": "R1: acc=79%, F1=0.704, FP=20, FN=1. R2: acc=76%, F1=0.667, FP=22, FN=2. R3-R10 not executed (process died). Three bugs identified: (1) Signal inversion in consolidator [K033], (2) reasoning field mismatch (qualitative_signals not mapped to reasoning in score_round.py — fix applied but not committed), (3) Feature regression status unclear — model_spec.json features ARE loaded in build_prompt but format_pr_for_prompt may not inject all numeric fields. Patterns at R2: P-1-1 through P-1-13 (4 revised, 9 active), P-2-1 and P-2-2 added.",
    "category": "execution",
    "severity": "medium",
    "source": "data/bootstrap_v4/ files",
    "date": "2026-02-18",
    "tags": [
      "bootstrap",
      "v4",
      "metrics",
      "bugs"
    ]
  }
]